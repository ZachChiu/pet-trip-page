(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],d=0,u=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&u.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);h&&h(e);while(u.length)u.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var o=a[i];0!==s[o]&&(n=!1)}n&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},i={app:0},s={app:0},r=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-0410ed3c":"1e10f439","chunk-081ad122":"30432fad","chunk-2377160b":"f68bccce","chunk-2440d066":"3863f33d","chunk-26bfe031":"35cfbc59","chunk-2d0b16c2":"4b12fd1e","chunk-2d0c0867":"c7be36a9","chunk-2d0e1bbd":"58c1d4f6","chunk-2d213783":"14719445","chunk-4e9eed19":"f7a2bdf2","chunk-54e52b40":"546fee41","chunk-55891f3b":"11a9645a","chunk-5c6be7e4":"4b67e07e","chunk-ae64dcce":"4a980397","chunk-b2449780":"f11893c7","chunk-2d0ddfcb":"07c62dfd","chunk-76db08d3":"02d31eba"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-0410ed3c":1,"chunk-081ad122":1,"chunk-2377160b":1,"chunk-26bfe031":1,"chunk-5c6be7e4":1,"chunk-76db08d3":1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-0410ed3c":"5d97e4fa","chunk-081ad122":"9f854480","chunk-2377160b":"8417fa25","chunk-2440d066":"31d6cfe0","chunk-26bfe031":"e80cc831","chunk-2d0b16c2":"31d6cfe0","chunk-2d0c0867":"31d6cfe0","chunk-2d0e1bbd":"31d6cfe0","chunk-2d213783":"31d6cfe0","chunk-4e9eed19":"31d6cfe0","chunk-54e52b40":"31d6cfe0","chunk-55891f3b":"31d6cfe0","chunk-5c6be7e4":"3bf1a1c1","chunk-ae64dcce":"31d6cfe0","chunk-b2449780":"31d6cfe0","chunk-2d0ddfcb":"31d6cfe0","chunk-76db08d3":"826a3d75"}[t]+".css",s=c.p+n,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var l=r[o],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===n||d===s))return e()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){l=u[o],d=l.getAttribute("data-href");if(d===n||d===s)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var n=e&&e.target&&e.target.src||s,r=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete i[t],h.parentNode.removeChild(h),a(r)},h.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){i[t]=0})));var n=s[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,a){n=s[t]=[e,a]}));e.push(n[2]=r);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=o(t);var u=new Error;l=function(e){d.onerror=d.onload=null,clearTimeout(h);var a=s[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,a[1](u)}s[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var h=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"18a7":function(t,e,a){"use strict";var n=a("e74f"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("4160"),a("b64b"),a("159b");var n=a("5530"),i=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],o=(a("5c0b"),a("2877")),c={},l=Object(o["a"])(c,s,r,!1,null,null,null),d=l.exports,u=(a("d3b7"),a("8c4f")),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},["廠商"==t.identify.identity||"會員"==t.identify.identity&&null!=t.noticeData.unread?a("div",{staticClass:"notice position-fixed"},[a("a",{staticClass:"noticeBtn animate__animated btn btn-dark rounded-circle",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleNotice(e)}}},[0!=t.noticeData.unread&&null!=t.noticeData.unread?a("span",{staticClass:"read position-absolute btn bg-danger btn-outline-danger text-white rounded-circle"},[t._v(t._s(t.noticeData.unread))]):t._e(),a("i",{staticClass:"fas fa-bell"})]),a("div",{staticClass:"noticeList position-absolute animate__animated animate__rotateInUpRight"},[a("ul",{staticClass:"list-group"},[null==t.noticeData.notices?a("li",{staticClass:"list-group-item list-group-item-action"},[t._v("無通知")]):t._e(),t._l(t.noticeData.notices,(function(e,n){return a("li",{key:n,staticClass:"list-group-item list-group-item-action p-0"},[a("a",{staticClass:"d-block p-3 text-dark",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getTo(e)}}},["未讀"==e.state?a("span",{staticClass:"text-danger"},[a("i",{staticClass:"mr-1 fas fa-envelope"}),t._v("新通知：")]):t._e(),"已讀"==e.state?a("span",{staticClass:"mr-2 text-primary"},[a("i",{staticClass:"fas fa-envelope-open"})]):t._e(),"問通知"==e.type?a("span",[t._v("你已收到一筆新的提問")]):t._e(),"答通知"==e.type?a("span",[t._v("你的提問已得到回覆")]):t._e(),"下單通知"==e.type?a("span",[t._v("你有一筆新的訂單")]):t._e(),a("i",{staticClass:"ml-2 fas fa-external-link-alt"}),a("p",{staticClass:"mb-0"},[a("small",{staticClass:"text-muted"},[t._v(t._s(e.time))])])])])}))],2)])]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"loader"},[a("hash-loader",{staticClass:"custom-class",attrs:{color:"#FFDE47",loading:t.isLoading,size:70}})],1),a("nav",{staticClass:"headerNav navbar navbar-expand-md navbar-light bg-light position-sticky"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"h6 mb-0"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[a("img",{attrs:{width:"80",src:"https://upload.cc/i1/2020/09/02/X38KBL.png",alt:""}}),t._v(" Pet Trip ")])],1),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[a("ul",{staticClass:"hoverLine navbar-nav ml-auto align-items-md-center"},[a("li",{staticClass:"nav-item hoveritem active"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[a("i",{staticClass:"fas fa-paw mr-1"}),t._v("首頁 ")])],1),a("li",{staticClass:"nav-item hoveritem"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/FirmList"}},[a("i",{staticClass:"fas fa-paw mr-1"}),t._v("尋找寄宿 ")])],1),"廠商"!=t.identify.identity&&"會員"!=t.identify.identity?a("li",{staticClass:"nav-item hoveritem"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/Login"}},[a("i",{staticClass:"fas fa-paw mr-1"}),t._v("註冊 / 登入 ")])],1):t._e(),"廠商"==t.identify.identity?a("li",{staticClass:"firmDrop nav-item dropdown"},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._m(1),a("img",{staticClass:"d-md-inline d-none img-fluid rounded-circle",staticStyle:{width:"40px",height:"40px","object-fit":"cover"},attrs:{src:t.identify.avatar,alt:""}})]),a("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbarDropdown"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/FirmBackstage/FirmSet"}},[t._v("廠商設定")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/FirmBackstage"}},[t._v("訂單列表")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/FirmBackstage/FirmRoom"}},[t._v("空間管理")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/FirmBackstage/FirmQA"}},[t._v("問與答")]),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.signout}},[t._v("登出")])],1)]):t._e(),"會員"==t.identify.identity?a("li",{staticClass:"memberDrop nav-item dropdown"},[a("a",{ref:"#",staticClass:"nav-link dropdown-toggle",attrs:{id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._m(2),a("img",{staticClass:"d-md-inline d-none img-fluid rounded-circle",staticStyle:{width:"40px",height:"40px","object-fit":"cover"},attrs:{src:t.identify.avatar,alt:""}})]),a("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbarDropdown"}},[a("router-link",{staticClass:"dropdown-item",attrs:{to:"/MemberBackstage/MemberSet"}},[t._v("會員設定")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/MemberBackstage"}},[t._v("訂單列表")]),a("router-link",{staticClass:"dropdown-item",attrs:{to:"/MemberBackstage/MemberQA"}},[t._v("問與答")]),a("div",{staticClass:"dropdown-divider"}),a("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:t.signout}},[t._v("登出")])],1)]):t._e()])])])]),a("main",[a("router-view",{attrs:{identify:t.identify},on:{"page-refresh":t.getIdentify,loadAction:t.loading}})],1),t._m(3)])},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"d-inline d-md-none"},[a("i",{staticClass:"fas fa-paw mr-1"}),t._v("管理後台 ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"d-inline d-md-none"},[a("i",{staticClass:"fas fa-paw mr-1"}),t._v("我的頁面 ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"py-4",staticStyle:{background:"rgb(0 29 78)"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row no-gutters align-items-sm-center"},[a("div",{staticClass:"col-6 col-sm-9"},[a("ul",{staticClass:"list-unstyled d-flex flex-sm-row flex-column my-0 text-white flex-wrap"},[a("li",{staticClass:"my-2"},[a("a",{staticClass:"text-white",attrs:{href:"#"}},[a("i",{staticClass:"mr-1 fas fa-fingerprint"}),t._v("關於我們 ")]),a("span",{staticClass:"mx-2 d-sm-inline d-none"},[t._v("|")])]),a("li",{staticClass:"my-2"},[a("a",{staticClass:"text-white",attrs:{href:"#"}},[a("i",{staticClass:"mr-1 far fa-question-circle"}),t._v("常見問題 ")]),a("span",{staticClass:"mx-2 d-sm-inline d-none"},[t._v("|")])]),a("li",{staticClass:"my-2"},[a("a",{staticClass:"text-white",attrs:{href:"#"}},[a("i",{staticClass:"mr-1 far fa-envelope-open"}),t._v("問題回報 ")]),a("span",{staticClass:"mx-2 d-sm-inline d-none"},[t._v("|")])]),a("li",{staticClass:"my-2"},[a("a",{staticClass:"text-white",attrs:{href:"#"}},[a("i",{staticClass:"mr-1 fas fa-list-ol"}),t._v("服務條款 ")])])])]),a("div",{staticClass:"col-6 col-sm-3 d-flex flex-column align-items-center justify-content-end"},[a("ul",{staticClass:"mb-0 list-unstyled text-white d-flex justify-content-between h2"},[a("li",{staticClass:"my-2"},[a("a",{staticClass:"text-white",attrs:{href:"mailto:hexschool@home.com"}},[a("i",{staticClass:"fas fa-at"})])]),a("li",{staticClass:"my-2"},[a("a",{staticClass:"ml-3 text-white",attrs:{href:"https://www.facebook.com/",target:"_blank"}},[a("i",{staticClass:"fab fa-facebook"})])]),a("li",{staticClass:"my-2"},[a("a",{staticClass:"ml-3 text-white",attrs:{href:"https://www.instagram.com/",target:"_blank"}},[a("i",{staticClass:"fab fa-instagram"})])])]),a("p",{staticClass:"text-muted mb-1"},[t._v("©2020 Pet Trip")])])])])])}],f=(a("c975"),a("ac1f"),a("5319"),a("3a05")),m=a("3dd1"),b=a.n(m),g=(a("415b"),{data:function(){return{identify:{},isLoading:!1,noticeData:{},isOpen:!1}},created:function(){this.getIdentify(),this.connectHub(),this.getCall()},methods:{getIdentify:function(t){this.isLoading=!0;var e=this,a=document.cookie.replace(/(?:(?:^|.*;\s*)pet\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization="Bearer ".concat(a);var n={method:"get",url:"http://pettrip.rocket-coding.com/api/GetIdentity"};this.$http(n).then((function(a){e.isLoading=!1,e.identify=a.data.result,null==e.identify.avatar&&(e.identify.avatar="https://upload.cc/i1/2020/09/09/wa8QmM.png"),"廠商"===t?e.$router.push("/FirmBackstage"):"會員"===t&&e.$router.push("/")})).catch((function(){e.isLoading=!1}))},toggleNotice:function(){var t=this;this.isOpen?($(".noticeList").removeClass("animate__rotateOutUpRight"),$(".noticeList").addClass("animate__rotateInUpRight"),this.isOpen=!this.isOpen):($(".noticeList").removeClass("animate__rotateInUpRight"),$(".noticeList").addClass("animate__rotateOutUpRight"),this.$http.get("http://pettrip.rocket-coding.com/api/Notice/Readall").then((function(){t.$http("http://pettrip.rocket-coding.com/api/Notice/GetNotice").then((function(e){t.noticeData=e.data}))})),this.isOpen=!this.isOpen)},getTo:function(t){$(".noticeList").removeClass("animate__rotateInUpRight"),$(".noticeList").addClass("animate__rotateOutUpRight"),this.isOpen=!this.isOpen,"問答通"===t.type&&"/FirmBackstage/FirmQA"!==this.$route.fullPath?this.$router.push("/FirmBackstage/FirmQA"):"答通知"===t.type&&"/MemberBackstage/MemberQA"!==this.$route.fullPath?this.$router.push("/MemberBackstage/MemberQA"):"下單通知"===t.type&&"/FirmBackstage"!==this.$route.fullPath&&this.$router.push("/FirmBackstage")},signout:function(){document.cookie="pet='';expires=".concat(new Date(-1),"; path=/"),this.getIdentify(),b.a.fire({toast:!0,position:"top-end",icon:"success",title:"登出成功",showConfirmButton:!1,timer:2e3}),-1===this.$route.path.indexOf("/FirmBackstage")&&-1===this.$route.path.indexOf("/MemberBackstage")||this.$router.push("1")},connectHub:function(){var t=this,e=Object(f["hubConnection"])("http://pettrip.rocket-coding.com:80"),a=e.createHubProxy("DefaultHub");a.on("Get",(function(){t.getCall()})),e.start({jsonp:!0}).done((function(){console.log("已連接 ID=",e.id);var a={method:"post",url:"http://pettrip.rocket-coding.com/api/Notice/Sendid",data:{connectid:e.id}};t.$http(a).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))})).fail((function(){console.log("未連接")}))},getCall:function(){$(".noticeBtn").addClass("animate__bounce "),setTimeout((function(){$(".noticeBtn").removeClass("animate__bounce ")}),1500);var t=this,e={method:"get",url:"http://pettrip.rocket-coding.com/api/Notice/GetNotice"};this.$http(e).then((function(e){t.noticeData=e.data})).catch((function(){}))},loading:function(t){switch(t){case!1:this.isLoading=!1;break;default:this.isLoading=!0;break}}}}),v=g,k=(a("18a7"),Object(o["a"])(v,h,p,!1,null,null,null)),C=k.exports;i["default"].use(u["a"]);var _=[{path:"*",redirect:"/"},{path:"/",component:C,children:[{path:"",component:function(){return a.e("chunk-081ad122").then(a.bind(null,"bb51"))}},{path:"/FirmList",component:function(){return Promise.all([a.e("chunk-b2449780"),a.e("chunk-76db08d3")]).then(a.bind(null,"1bb8"))}},{path:"/Login",component:function(){return a.e("chunk-2440d066").then(a.bind(null,"a55b"))}},{path:"/FirmRegister",component:function(){return Promise.all([a.e("chunk-b2449780"),a.e("chunk-2d0ddfcb")]).then(a.bind(null,"8470"))}},{path:"/MemberRegister",component:function(){return a.e("chunk-2d0e1bbd").then(a.bind(null,"7c61"))}},{path:"/FirmPage/:FirmId",component:function(){return a.e("chunk-0410ed3c").then(a.bind(null,"5ada"))}},{path:"/FirmPage/:FirmId/Room/:RoomId",component:function(){return a.e("chunk-5c6be7e4").then(a.bind(null,"3ab1"))}},{path:"/FirmBackstage",component:function(){return a.e("chunk-26bfe031").then(a.bind(null,"3f73"))},children:[{path:"",component:function(){return a.e("chunk-4e9eed19").then(a.bind(null,"a26c"))}},{path:"FirmRoom",component:function(){return a.e("chunk-2377160b").then(a.bind(null,"5de4"))}},{path:"FirmQA",component:function(){return a.e("chunk-54e52b40").then(a.bind(null,"b654"))}},{path:"FirmSet",component:function(){return a.e("chunk-2d213783").then(a.bind(null,"ad8b"))}}]},{path:"/MemberBackstage",component:function(){return a.e("chunk-2d0b16c2").then(a.bind(null,"207e"))},children:[{path:"",component:function(){return a.e("chunk-ae64dcce").then(a.bind(null,"7324"))}},{path:"MemberSet",component:function(){return a.e("chunk-2d0c0867").then(a.bind(null,"41c7"))}},{path:"MemberQA",component:function(){return a.e("chunk-55891f3b").then(a.bind(null,"5e08"))}}]}]}],w=new u["a"]({routes:_}),y=w,x=a("1157"),O=a.n(x),j=a("bc3a"),F=a.n(j),B=a("a7fe"),L=a.n(B),D=a("c1da"),P=a.n(D),S=a("5887"),M=a.n(S),E=a("7bb1"),A=a("4c93"),T=a("60d4"),N=a("05c2"),I=a("77ed"),R=a.n(I);a("4989");Object(E["e"])("zh_TW",T),i["default"].config.productionTip=!1,i["default"].use(N["VueSpinners"]),i["default"].use(L.a,F.a),i["default"].use(R.a),i["default"].use(M.a,{componentPrefix:"vc"}),window.$=window.jQuery=O.a,new i["default"]({router:y,render:function(t){return t(d)}}).$mount("#app"),Object(E["d"])("secret",{validate:function(t){return"example"===t},message:"This is not the magic word"}),Object.keys(A).forEach((function(t){Object(E["d"])(t,Object(n["a"])({},A[t]))})),Object(E["d"])("required",Object(n["a"])(Object(n["a"])({},A["required"]),{},{message:"此為必填"})),Object(E["d"])("email",Object(n["a"])(Object(n["a"])({},A["email"]),{},{message:"信箱格式錯誤"})),Object(E["d"])("password",{params:["target"],validate:function(t,e){var a=e.target;return t===a},message:"密碼不相同"}),Object(E["c"])({classes:{invalid:"is-invalid"}}),i["default"].component("star-rating",P.a),i["default"].component("ValidationObserver",E["a"]),i["default"].component("ValidationProvider",E["b"])},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),i=a.n(n);i.a},"9c0c":function(t,e,a){},e74f:function(t,e,a){}});
//# sourceMappingURL=app.b9f57b94.js.map