(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae64dcce"],{"129f":function(t,a){t.exports=Object.is||function(t,a){return t===a?0!==t||1/t===1/a:t!=t&&a!=a}},"14eb":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page"},[e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:"1"==t.pageData.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.changePage(t.pageData.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pageData.total_page,(function(a,s){return e("li",{key:s,staticClass:"page-item",class:{active:t.pageData.current_page==a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item",class:{disabled:t.pageData.current_page==t.pageData.total_page}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.changePage(t.pageData.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},r=[],i={data:function(){return{}},name:"Page",props:["pageData"],methods:{changePage:function(t){this.$emit("page-change",t)}}},o=i,l=e("2877"),n=Object(l["a"])(o,s,r,!1,null,null,null);a["a"]=n.exports},"37bd":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cancelModal modal fade",attrs:{id:"cancelModal",tabindex:"-1","aria-labelledby":"cancelModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable"},[null!=t.delData.order?e("div",{staticClass:"modal-content"},[t._m(0),e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("form",{attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.delOrder(a)}}},[e("div",{staticClass:" modal-body  text-center"},[e("p",{staticClass:"h5"},[t._v("確定要取消此筆訂單？")]),e("p",[t._v(" 訂單編號： "),e("b",[t._v(t._s(t.delData.order.orderseq))])]),e("div",{staticClass:"form-group text-left "},[e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,r=a.classes;return[e("label",{staticClass:" text-danger",attrs:{for:"reason"}},[t._v("取消原因")]),"firm"==t.who?e("select",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"form-control",class:r,attrs:{value:"",id:"reason"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.reason=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("請選擇")]),e("option",{attrs:{value:"檔期衝突"}},[t._v("檔期衝突")]),e("option",{attrs:{value:"無法提供完善服務"}},[t._v("無法提供完善服務")]),e("option",{attrs:{value:"已與買家協議取消訂單"}},[t._v("已與買家協議取消訂單")]),e("option",{attrs:{value:"平台功能不足"}},[t._v("平台功能不足")]),e("option",{attrs:{value:"與買家溝通不良"}},[t._v("與買家溝通不良")])]):t._e(),"user"==t.who?e("select",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"form-control",class:r,attrs:{id:"reason"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.reason=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("請選擇")]),e("option",{attrs:{value:"找到更便宜的平台"}},[t._v("找到更便宜的平台")]),e("option",{attrs:{value:"在此平台找到更適合我的空間"}},[t._v("在此平台找到更適合我的空間")]),e("option",{attrs:{value:"已與賣家協議取消訂單"}},[t._v("已與賣家協議取消訂單")]),e("option",{attrs:{value:"平台功能不足"}},[t._v("平台功能不足")]),e("option",{attrs:{value:"與賣家溝通不良"}},[t._v("與賣家溝通不良")])]):t._e(),e("small",{staticClass:"text-danger "},[t._v(t._s(s[0]))])]}}],null,!0)})],1),e("div",{staticClass:"form-group text-left"},[e("label",{attrs:{for:"memo"}},[t._v("備註")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.memo,expression:"memo"}],staticClass:"form-control",attrs:{id:"memo",rows:"3"},domProps:{value:t.memo},on:{input:function(a){a.target.composing||(t.memo=a.target.value)}}})]),e("p",{staticClass:"text-left text-secondary"},[t._v("訂單只可於七天前取消，七天內不予受理。")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")]),e("button",{staticClass:"btn btn-danger",class:{disabled:s},attrs:{type:"submit",disabled:s}},[t._v("取消訂單")])])])]}}],null,!1,2872961276)})],1):t._e()])])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger"},[e("h5",{staticClass:"modal-title text-white",attrs:{id:"cancelModalLabel"}},[t._v("取消訂單")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],i=e("3dd1"),o=e.n(i),l=(e("415b"),{data:function(){return{reason:"",memo:""}},name:"delOrderModal",props:["delData","who"],methods:{delOrder:function(){var t=this,a={method:"POST",url:"http://pettrip.rocket-coding.com/api/Order/Cancelorder",data:{orderseq:"".concat(this.delData.order.orderseq),reason:"".concat(this.reason),memo:"".concat(this.memo)}};console.log(a),this.$http(a).then((function(a){console.log(a),o.a.fire({toast:!0,position:"top-end",icon:"success",title:"取消成功",showConfirmButton:!1,timer:2e3}),$("#decline-tab").click(),t.$emit("change-state","2"),$('.nav-tabs a[href="#decline"]').tab("show")})).catch((function(t){console.log(t)}))}}}),n=l,d=e("2877"),c=Object(d["a"])(n,s,r,!1,null,null,null);a["a"]=c.exports},"526a":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"orderInfoModal modal fade",attrs:{id:"orderInfoModal",tabindex:"-1","aria-labelledby":"orderInfoModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[null!=t.orderDetail.order?e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("p",[t._v("訂單時間："+t._s(t.orderDetail.order.setdate))]),e("p",[t._v("訂單編號："+t._s(t.orderDetail.order.orderseq))]),e("p",[t._v("狀態： "),1==t.orderDetail.order.state?e("span",{staticClass:"font-weight-bold text-success"},[t._v("已付款")]):t._e(),2==t.orderDetail.order.state?e("span",{staticClass:"font-weight-bold text-danger"},[e("span",{staticClass:"mr-2"},[t._v(t._s(t.orderDetail.order.canceldate))]),t._v("已取消")]):t._e(),3==t.orderDetail.order.state?e("span",{staticClass:"font-weight-bold "},[t._v("已退款")]):t._e(),4==t.orderDetail.order.state?e("span",{staticClass:"font-weight-bold"},[t._v("已完成")]):t._e()]),"user"==t.who?e("p",[t._v("廠商名稱："+t._s(t.orderDetail.order.companyname))]):t._e(),e("p",[t._v("空間名稱："+t._s(t.orderDetail.order.roomname))]),e("p",[t._v("預定日期："+t._s(t.orderDetail.order.orderdates)+"~"+t._s(t.orderDetail.order.orderdatee))]),e("p",[t._v("房間總價：$"+t._s(t.orderDetail.order.roomamt))]),e("hr"),e("p",[t._v("訂購者："+t._s(t.orderDetail.detail.name))]),e("p",[t._v("電話："+t._s(t.orderDetail.detail.tel))]),e("p",[t._v("數量："+t._s(t.orderDetail.detail.petamount)+"隻")]),e("p",[t._v("寵物品種："+t._s(t.orderDetail.detail.pettype))]),e("p",[t._v("寵物重量："+t._s(t.orderDetail.detail.petsize)+"公斤")]),e("p",[t._v("餵藥服務： "),t.orderDetail.detail.medicine.medicine_infeed?e("span",{staticClass:"mr-2"},[t._v("飼料內($"+t._s(t.orderDetail.detail.medicine.medicine_infeed_amt*t.orderDetail.detail.petamount)+")")]):t._e(),t.orderDetail.detail.medicine.medicine_paste?e("span",{staticClass:"mr-2"},[t._v("外用藥($"+t._s(t.orderDetail.detail.medicine.medicine_paste_amt*t.orderDetail.detail.petamount)+")")]):t._e(),t.orderDetail.detail.medicine.medicine_pill?e("span",{staticClass:"mr-2"},[t._v("藥丸($"+t._s(t.orderDetail.detail.medicine.medicine_pill_amt*t.orderDetail.detail.petamount)+")")]):t._e()]),e("p",[t._v("加購服務： "),t.orderDetail.detail.plus.bath?e("span",{staticClass:"mr-2"},[t._v("洗澡($"+t._s(t.orderDetail.detail.plus.bath_amt*t.orderDetail.detail.petamount)+")")]):t._e(),t.orderDetail.detail.plus.hair?e("span",{staticClass:"mr-2"},[t._v("洗毛($"+t._s(t.orderDetail.detail.plus.hair_amt*t.orderDetail.detail.petamount)+")")]):t._e(),t.orderDetail.detail.plus.nails?e("span",{staticClass:"mr-2"},[t._v("剪指甲($"+t._s(t.orderDetail.detail.plus.nails_amt*t.orderDetail.detail.petamount)+")")]):t._e()]),"user"==t.who?e("p",[t._v("地址："+t._s(t.orderDetail.order.country)+t._s(t.orderDetail.order.area)+t._s(t.orderDetail.order.address))]):t._e(),e("p",[t._v("備註："+t._s(t.orderDetail.detail.memo))]),e("p",{staticClass:"text-right h5 text-danger my-3"},[t._v("訂單總額：共 $ "+t._s(t.orderDetail.detail.orderprice)+"元")]),e("p",{staticClass:"text-right text-secondary"},[t._v("訂單只可於七天前取消，七天內不予受理。")]),null!=t.orderDetail.cancel.reason?e("div",{staticClass:"cancel"},[e("hr"),e("p",{staticClass:"text-danger h5"},[t._v("取消原因："+t._s(t.orderDetail.cancel.reason))]),null!=t.orderDetail.cancel.memo?e("p",{staticClass:"h5"},[t._v("原因描述："+t._s(t.orderDetail.cancel.memo))]):t._e()]):t._e()]),e("div",{staticClass:"modal-footer"},[t.orderDetail.detail.btn_cancel?e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button",id:"openBtn"},on:{click:t.cancelOrder}},[t._v("取消訂單")]):t._e(),e("button",{staticClass:"btn btn-dark",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")])])]):t._e()])])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-dark"},[e("h5",{staticClass:"modal-title text-white",attrs:{id:"orderInfoModalLabel"}},[t._v("訂單資訊")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],i={data:function(){return{order:{}}},name:"orderModal",props:["orderDetail","who"],created:function(){},methods:{cancelOrder:function(){$("#cancelModal").modal("show"),$("#orderInfoModal").modal("hide")}}},o=i,l=e("2877"),n=Object(l["a"])(o,s,r,!1,null,null,null);a["a"]=n.exports},5659:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table-responsive-lg"},[null!=t.orderList[0]?e("table",{staticClass:"table table-hover"},[t._m(0),e("tbody",t._l(t.orderList,(function(a,s){return e("tr",{key:s},[e("th",{attrs:{scope:"row"}},[t._v(t._s(a.orderseq)+" "),e("br"),e("small",{staticClass:"text-muted"},[t._v(t._s(a.setdate))])]),e("td",[t._v(t._s(a.orderdates)+" ~ "),e("br"),t._v(" "+t._s(a.orderdatee)+" ")]),e("td",[e("span",{staticClass:"d-inline-block text-truncate",staticStyle:{"max-width":"150px"}},[e("router-link",{staticClass:"linkColor",attrs:{target:"_blank",to:"/FirmPage/"+a.companyseq+"/Room/"+a.roomseq}},[t._v(t._s(a.roomname))])],1)]),e("td",[1==a.state?e("span",[t._v("已付款")]):t._e(),2==a.state?e("span",[t._v("已取消")]):t._e(),3==a.state?e("span",[t._v("已退款")]):t._e(),4==a.state?e("span",[t._v("已完成")]):t._e(),e("br"),"0001-01-01 00:00"!=a.canceldate?e("small",{staticClass:"text-danger"},[t._v(t._s(a.canceldate))]):t._e()]),e("td",[e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.openDetail(a)}}},[t._v("詳情")]),a.btn_Evalution?e("button",{staticClass:"btn btn-danger ml-2",attrs:{type:"button","data-toggle":"modal"},on:{click:function(e){return t.openEvaluation(a)}}},[t._v("評價")]):t._e()])])})),0)]):t._e(),null==t.orderList[0]?e("p",{staticClass:"h1 text-center text-muted"},[t._v("暫無資料")]):t._e()])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("訂單編號")]),e("th",{attrs:{scope:"col"}},[t._v("日期")]),e("th",{attrs:{scope:"col"}},[t._v("空間")]),e("th",{attrs:{scope:"col"}},[t._v("狀態")]),e("th",{attrs:{scope:"col"}},[t._v("操作")])])])}],i={data:function(){return{}},name:"order",props:["orderList"],methods:{openDetail:function(t){this.$emit("open-detail",t)},openEvaluation:function(t){this.$emit("open-evaluation",t)}}},o=i,l=e("2877"),n=Object(l["a"])(o,s,r,!1,null,null,null);a["a"]=n.exports},7324:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"firmOrder"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.load,expression:"load"}],staticClass:"loader"},[e("hash-loader",{staticClass:"custom-class",attrs:{color:"#FFDE47",loading:t.load,size:70}})],1),e("orderModal",{attrs:{who:t.who,orderList:t.orderList,orderDetail:t.orderDetail}}),e("delOrderModal",{attrs:{who:t.who,delData:t.orderDetail},on:{"change-state":t.changeState,"get-data":t.getData}}),e("memberEvaluateModal",{attrs:{evaluationData:t.evaluationList}}),e("div",{staticClass:"container"},[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6 col-12 mt-2"},[e("p",[t._v("日期搜尋：")]),e("vc-date-picker",{attrs:{mode:"range"},model:{value:t.range,callback:function(a){t.range=a},expression:"range"}})],1),e("div",{staticClass:"col-lg-6 col-12 mt-2"},[e("p",[t._v("文字與單號搜尋：")]),e("div",{staticClass:"input-group mb-3 position-relative"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchBox,expression:"searchBox",modifiers:{trim:!0}}],staticClass:"form-control pl-5 rounded",attrs:{type:"text","aria-label":"Recipient's username","aria-describedby":"button-addon2"},domProps:{value:t.searchBox},on:{input:function(a){a.target.composing||(t.searchBox=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}})])]),e("div",{staticClass:"col-12 col-lg-6"}),e("div",{staticClass:"col-12 col-lg-6 mb-3 btn-group"},[e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:t.reset}},[t._v(" 清除 ")]),e("button",{staticClass:"btn btn-outline-info ",attrs:{type:"sunmit",id:"button-addon2"},on:{click:function(a){return a.preventDefault(),t.search(a)}}},[t._v(" 搜尋 ")])])])])]),e("ul",{staticClass:"nav nav-tabs nav-fill text-center",attrs:{id:"myTab",role:"tablist"}},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{id:"whole-tab","data-toggle":"tab",href:"#whole",role:"tab","aria-controls":"whole","aria-selected":"true"},on:{click:function(a){return t.changeState("all")}}},[t._v("全部")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{id:"pay-tab","data-toggle":"tab",href:"#pay",role:"tab","aria-controls":"pay","aria-selected":"false"},on:{click:function(a){return t.changeState("1")}}},[t._v("已付款")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{id:"complete-tab","data-toggle":"tab",href:"#complete",role:"tab","aria-controls":"complete","aria-selected":"false"},on:{click:function(a){return t.changeState("4")}}},[t._v("已完成")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{id:"decline-tab","data-toggle":"tab",href:"#decline",role:"tab","aria-controls":"decline","aria-selected":"false"},on:{click:function(a){return t.changeState("2")}}},[t._v("已取消")])]),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{id:"refund-tab","data-toggle":"tab",href:"#refund",role:"tab","aria-controls":"refund","aria-selected":"false"},on:{click:function(a){return t.changeState("3")}}},[t._v("已退款")])])]),e("div",{staticClass:"bg-white text-nowrap tab-content border border-top-0",attrs:{id:"myTabContent"}},[t.isLoading?t._e():e("div",{staticClass:"tab-pane p-3 fade show active",attrs:{id:"whole",role:"tabpanel","aria-labelledby":"whole-tab"}},[e("order",{attrs:{orderList:t.orderList},on:{"open-detail":t.openDetail,"open-evaluation":t.openEvaluation}}),0!=t.pagelist.total?e("page",{staticClass:"mt-3",attrs:{"page-data":t.pagelist},on:{"page-change":t.getData}}):t._e()],1),t.isLoading?t._e():e("div",{staticClass:"tab-pane p-3 fade",attrs:{id:"pay",role:"tabpanel","aria-labelledby":"pay-tab"}},[e("order",{attrs:{orderList:t.orderList},on:{"open-detail":t.openDetail,"open-evaluation":t.openEvaluation}}),0!=t.pagelist.total?e("page",{staticClass:"mt-3",attrs:{"page-data":t.pagelist},on:{"page-change":t.getData}}):t._e()],1),t.isLoading?t._e():e("div",{staticClass:"tab-pane p-3 fade",attrs:{id:"complete",role:"tabpanel","aria-labelledby":"complete-tab"}},[e("order",{attrs:{orderList:t.orderList},on:{"open-detail":t.openDetail,"open-evaluation":t.openEvaluation}}),0!=t.pagelist.total?e("page",{staticClass:"mt-3",attrs:{"page-data":t.pagelist},on:{"page-change":t.getData}}):t._e()],1),t.isLoading?t._e():e("div",{staticClass:"tab-pane p-3 fade",attrs:{id:"decline",role:"tabpanel","aria-labelledby":"decline-tab"}},[e("order",{attrs:{orderList:t.orderList},on:{"open-detail":t.openDetail,"open-evaluation":t.openEvaluation}}),0!=t.pagelist.total?e("page",{staticClass:"mt-3",attrs:{"page-data":t.pagelist},on:{"page-change":t.getData}}):t._e()],1),t.isLoading?t._e():e("div",{staticClass:"tab-pane p-3 fade",attrs:{id:"refund",role:"tabpanel","aria-labelledby":"refund-tab"}},[e("order",{attrs:{orderList:t.orderList},on:{"open-detail":t.openDetail,"open-evaluation":t.openEvaluation}}),0!=t.pagelist.total?e("page",{staticClass:"mt-3",attrs:{"page-data":t.pagelist},on:{"page-change":t.getData}}):t._e()],1)])],1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"position-absolute py-2 px-3",staticStyle:{"z-index":"5"}},[e("i",{staticClass:"fas fa-search"})])}],i=(e("99af"),e("ac1f"),e("841c"),e("3dd1")),o=e.n(i),l=(e("415b"),e("14eb")),n=e("5659"),d=e("526a"),c=e("37bd"),u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"evaluationModal",tabindex:"-1","aria-labelledby":"evaluationModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[null!=t.dataList.company?e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"d-flex align-items-center mb-3"},[e("div",{staticClass:"rounded-circle mx-auto overflow-hidden",staticStyle:{"background-size":"cover","max-width":"120px"},style:{backgroundImage:"url("+t.dataList.company.avatar+")"}},[e("img",{staticClass:"w-100 img-fluid",class:{opacityZero:""!=t.dataList.company.avatar},attrs:{src:"https://upload.cc/i1/2020/09/01/IaZYfp.png",alt:""}})]),t._v(" "),e("div",{staticClass:"ml-3  w-100"},[e("p",{staticClass:"mb-1"},[t._v(t._s(t.dataList.company.companybrand))]),e("p",{staticClass:"mb-1"},[e("small",{staticClass:"text-secondary"},[t._v(t._s(t.dataList.company.companybrand))])]),e("p",{staticClass:"text-danger mb-0"},[t._v("$ "+t._s(t.dataList.company.amt)+" 元")])])]),e("div",{staticClass:"text-center mb-3"},[e("star-rating",{attrs:{"read-only":t.dataList.state.btn_Evalution_readonly,inline:!0,"border-width":0,"rounded-corners":!0,"star-size":40},model:{value:t.dataList.evalution.star,callback:function(a){t.$set(t.dataList.evalution,"star",a)},expression:"dataList.evalution.star"}})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"evauationText"}},[t._v("評論")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dataList.evalution.memo,expression:"dataList.evalution.memo"}],staticClass:"form-control",attrs:{id:"evauationText",rows:"3",readonly:t.dataList.state.btn_Evalution_readonly},domProps:{value:t.dataList.evalution.memo},on:{input:function(a){a.target.composing||t.$set(t.dataList.evalution,"memo",a.target.value)}}})])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")]),t.dataList.state.btn_Evalution_readonly?t._e():e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.setRating}},[t._v("評價")])])]):t._e()])])},p=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-primary"},[e("h5",{staticClass:"modal-title",attrs:{id:"evaluationModal"}},[t._v("評價")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],v={data:function(){return{dataList:this.evaluationData}},name:"memberEvaluateModal",props:["evaluationData"],watch:{evaluationData:function(t,a){this.dataList=t}},methods:{setRating:function(){var t={method:"post",url:"http://pettrip.rocket-coding.com/api/Evaluation/Set",headers:{},data:{orderseq:this.dataList.company.orderseq,star:this.dataList.evalution.star,memo:this.dataList.evalution.memo}};console.log(t),this.$http(t).then((function(t){o.a.fire({toast:!0,position:"top-end",icon:"success",title:"評價成功",showConfirmButton:!1,timer:2e3}),console.log(t),$("#evaluationModal").modal("hide")})).catch((function(t){console.log(t),o.a.fire({toast:!0,position:"top-end",icon:"error",title:"評價失敗",showConfirmButton:!1,timer:2e3})}))}}},m=v,h=e("2877"),_=Object(h["a"])(m,u,p,!1,null,null,null),g=_.exports,f={data:function(){return{who:"user",orderList:{},pagelist:{},evaluationList:{},state:null,orderDetail:{},isLoading:!1,load:!1,searchBox:"",range:{},searchDate:{}}},created:function(){this.getData()},props:["identify"],components:{page:l["a"],order:n["a"],delOrderModal:c["a"],memberEvaluateModal:g,orderModal:d["a"]},methods:{getData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;$("#orderInfoModal").modal("hide"),$("#cancelModal").modal("hide"),this.$emit("checkStatus"),this.isLoading=!0;var a=this;a.$emit("loadAction",!0);var e={method:"get",url:"http://pettrip.rocket-coding.com/api/Order/Getorder?state=".concat(this.state,"&page=").concat(t,"&paged=6&roomname=").concat(this.searchBox,"&datetimes=").concat(this.searchDate.start,"&datetimee=").concat(this.searchDate.end)};this.$http(e).then((function(t){a.orderList=t.data.order,a.pagelist=t.data.meta,a.isLoading=!1,a.$emit("loadAction",!1),setTimeout((function(){"會員"!==a.identify.identity&&(o.a.fire({toast:!0,position:"top-end",icon:"error",title:"進入會員後台失敗",showConfirmButton:!1,timer:2e3}),a.$router.push("/"))}),500),$("html, body").animate({scrollTop:$(".headerNav").offset().top},0)})).catch((function(){a.isLoading=!1,a.$emit("loadAction",!1)}))},reset:function(){this.searchBox="",this.range=null,this.search()},changeState:function(t){"all"===t?(this.state=null,this.getData(1)):"1"===t?(this.state=1,this.getData(1)):"2"===t?(this.state=2,this.getData(1)):"3"===t?(this.state=3,this.getData(1)):"4"===t&&(this.state=4,this.getData(1))},openDetail:function(t){var a=this;a.load=!0;var e={method:"get",url:"http://pettrip.rocket-coding.com/api/Order/Getorder?id=".concat(t.orderseq)};this.$http(e).then((function(t){a.load=!1,a.orderDetail=t.data,$("#orderInfoModal").modal("show")})).catch((function(){a.load=!1}))},search:function(){null!==this.range?(this.searchDate.start=new Date(this.range.start).toLocaleDateString(),this.searchDate.end=new Date(this.range.end).toLocaleDateString()):(this.searchDate.start="",this.searchDate.end=""),this.getData()},openEvaluation:function(t){var a=this;a.load=!0;var e={method:"get",url:"http://pettrip.rocket-coding.com/api/Evaluation/Get?id=".concat(t.orderseq)};this.$http(e).then((function(t){a.load=!1,a.evaluationList=t.data,$("#evaluationModal").modal("show")})).catch((function(){a.load=!1}))}}},b=f,C=Object(h["a"])(b,s,r,!1,null,null,null);a["default"]=C.exports},"841c":function(t,a,e){"use strict";var s=e("d784"),r=e("825a"),i=e("1d80"),o=e("129f"),l=e("14c3");s("search",1,(function(t,a,e){return[function(a){var e=i(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,e):new RegExp(a)[t](String(e))},function(t){var s=e(a,t,this);if(s.done)return s.value;var i=r(t),n=String(this),d=i.lastIndex;o(d,0)||(i.lastIndex=0);var c=l(i,n);return o(i.lastIndex,d)||(i.lastIndex=d),null===c?-1:c.index}]}))},"99af":function(t,a,e){"use strict";var s=e("23e7"),r=e("d039"),i=e("e8b5"),o=e("861d"),l=e("7b0b"),n=e("50c4"),d=e("8418"),c=e("65f0"),u=e("1dde"),p=e("b622"),v=e("2d00"),m=p("isConcatSpreadable"),h=9007199254740991,_="Maximum allowed index exceeded",g=v>=51||!r((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),f=u("concat"),b=function(t){if(!o(t))return!1;var a=t[m];return void 0!==a?!!a:i(t)},C=!g||!f;s({target:"Array",proto:!0,forced:C},{concat:function(t){var a,e,s,r,i,o=l(this),u=c(o,0),p=0;for(a=-1,s=arguments.length;a<s;a++)if(i=-1===a?o:arguments[a],b(i)){if(r=n(i.length),p+r>h)throw TypeError(_);for(e=0;e<r;e++,p++)e in i&&d(u,p,i[e])}else{if(p>=h)throw TypeError(_);d(u,p++,i)}return u.length=p,u}})}}]);
//# sourceMappingURL=chunk-ae64dcce.5cb427ca.js.map