(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"login"},[e("div",{staticClass:"container py-5"},[e("div",{staticClass:"row no-gutters"},[e("div",{staticClass:"col-lg-6 col-12 mx-auto border rounded"},[t._m(0),e("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"member",role:"tabpanel","aria-labelledby":"member-tab"}},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("form",{staticClass:"py-5 px-2 px-sm-5",on:{submit:function(a){return a.preventDefault(),t.memberLogin(a)}}},[e("h3",{staticClass:"text-center mb-3"},[t._v("會員登入")]),e("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"memberEmail"}},[t._v(" 帳號 "),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"form-control",class:i,attrs:{id:"memberEmail",type:"text","aria-describedby":"emailHelp",placeholder:"Enter email"},domProps:{value:t.login.email},on:{input:function(a){a.target.composing||t.$set(t.login,"email",a.target.value)}}})])]}}],null,!0)}),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"memberPassword"}},[t._v(" 密碼 "),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"form-control",class:i,attrs:{id:"memberPassword",type:"password",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(a){a.target.composing||t.$set(t.login,"password",a.target.value)}}}),e("a",{staticClass:"text-danger",attrs:{href:"#"}},[t._v("忘記密碼?")])])]}}],null,!0)}),e("div",{staticClass:"form-group d-flex"},[e("router-link",{staticClass:"w-50 mr-2 btn btn btn-outline-primary",attrs:{to:"/MemberRegister"}},[t._v("會員註冊")]),e("button",{staticClass:"w-50 ml-2 btn btn-primary",class:{disabled:s},attrs:{type:"submit",disabled:s}},[t._v(" 會員登入 ")])],1)],1)]}}])})],1),e("div",{staticClass:"tab-pane fade",attrs:{id:"firm",role:"tabpanel","aria-labelledby":"firm-tab"}},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.invalid;return[e("form",{staticClass:"py-5 px-2 px-sm-5",on:{submit:function(a){return a.preventDefault(),t.firmLogin(a)}}},[e("h3",{staticClass:"text-center mb-3"},[t._v("廠商登入")]),e("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"firmEmail"}},[t._v(" 帳號 "),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"form-control",class:i,attrs:{id:"firmEmail",type:"text","aria-describedby":"emailHelp",placeholder:"Enter email"},domProps:{value:t.login.email},on:{input:function(a){a.target.composing||t.$set(t.login,"email",a.target.value)}}})])]}}],null,!0)}),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,i=a.classes;return[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"firmPassword"}},[t._v(" 密碼 "),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"form-control",class:i,attrs:{id:"firmPassword",type:"password",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(a){a.target.composing||t.$set(t.login,"password",a.target.value)}}}),e("a",{staticClass:"text-danger",attrs:{href:"#"}},[t._v("忘記密碼?")])])]}}],null,!0)}),e("div",{staticClass:"form-group d-flex"},[e("router-link",{staticClass:"w-50 mr-2 btn btn btn-outline-primary",attrs:{to:"/FirmRegister"}},[t._v("廠商註冊")]),e("button",{staticClass:"w-50 ml-2 btn btn-primary",class:{disabled:s},attrs:{type:"submit",disabled:s}},[t._v(" 廠商登入 ")])],1)],1)]}}])})],1)])])])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"nav nav-pills text-center",attrs:{id:"myTab",role:"tablist"}},[e("li",{staticClass:"nav-item w-50"},[e("a",{staticClass:"nav-link active",attrs:{id:"member-tab","data-toggle":"tab",href:"#member",role:"tab","aria-controls":"member","aria-selected":"true"}},[t._v("會員登入")])]),e("li",{staticClass:"nav-item w-50"},[e("a",{staticClass:"nav-link",attrs:{id:"firm-tab","data-toggle":"tab",href:"#firm",role:"tab","aria-controls":"firm","aria-selected":"false"}},[t._v("廠商登入")])])])}],r=e("3dd1"),o=e.n(r),n=(e("415b"),e("a78e")),l=e.n(n),d={data:function(){return{login:{email:"",password:""}}},created:function(){$("html, body").animate({scrollTop:$("#app").offset().top},0)},methods:{firmLogin:function(){var t=this;t.$emit("loadAction",!0);var a={method:"post",url:"http://pettrip.rocket-coding.com/api/Company/Login",data:{email:"".concat(this.login.email),pwd:"".concat(this.login.password)}};this.$http(a).then((function(a){if("登入成功"===a.data.result){o.a.fire({toast:!0,position:"top-end",icon:"success",title:"登入成功",showConfirmButton:!1,timer:2e3});var e=a.data.token;l.a.set("jwt","Bearer ".concat(e),{expires:30}),t.$emit("page-refresh","廠商")}else o.a.fire({toast:!0,position:"top-end",icon:"error",title:a.data.result,showConfirmButton:!1,timer:2e3}),t.$emit("loadAction",!1)})).catch((function(){o.a.fire({toast:!0,position:"top-end",icon:"error",title:"登入失敗",timer:2e3,showConfirmButton:!1}),t.$emit("loadAction",!1)}))},memberLogin:function(){var t=this;t.$emit("loadAction",!0);var a={method:"post",url:"http://pettrip.rocket-coding.com/api/Member/Login",data:{email:"".concat(this.login.email),pwd:"".concat(this.login.password)}};this.$http(a).then((function(a){if("登入成功"===a.data.result){o.a.fire({toast:!0,position:"top-end",icon:"success",title:"登入成功",showConfirmButton:!1,timer:2e3});var e=a.data.token;l.a.set("jwt","Bearer ".concat(e),{expires:30}),t.$emit("page-refresh","會員")}else o.a.fire({toast:!0,position:"top-end",icon:"error",title:a.data.result,showConfirmButton:!1,timer:2e3}),t.$emit("loadAction",!1)})).catch((function(){o.a.fire({toast:!0,position:"top-end",icon:"error",title:"登入失敗",timer:2e3,showConfirmButton:!1}),t.$emit("loadAction",!1)}))}}},c=d,m=e("2877"),u=Object(m["a"])(c,s,i,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.45dc53ae.js.map